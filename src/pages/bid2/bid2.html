<!--
  Generated template for the Bid2Page page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color = "dark">
    <ion-title>{{item.name}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding style="background-color:#396E60;background-size:cover;">
<ion-fab>
    <button ion-fab color= dark (click)="BackHome()"><ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon></button>
</ion-fab>

  <ion-grid>
    <ion-row>
        <ion-col col-6 *ngFor="let img of img ;">
        <ion-card>
            <img [src]="img" imageViewer>
        </ion-card>
        </ion-col>
    </ion-row>
</ion-grid>

<ion-card>
   <strong> ชื่อ : </strong> {{(dbServer| async)?.name}} <br>
    <strong>ข้อมูลทั่วไป :</strong> {{(dbServer| async)?.des}} <br>
    <strong> ประเภทสินค้า : </strong> {{(dbServer| async)?.sort}} <br>
</ion-card>
<ion-card>
    <strong> Status : </strong> {{(dbServer| async)?.Status}}<br>
    <strong> {{(dbServer| async)?.timeClosed-now | datePipe}}</strong><br>
    <strong> สินค้าเปิดประมูลที่ : </strong> {{(dbServer| async)?.priceStart}} THB <br>
    <strong> สินค้าราคาปัจจุบัน : </strong> {{(dbServer| async)?.priceStatus}} THB <br>
    <strong> ประมูลขั้นต่ำ : </strong> {{(dbServer| async)?.priceBid}} THB<br>
    <strong> ผู้ชนะปัจจุบัน : </strong> {{(dbServer| async)?.winBid}}<br>
</ion-card>

<button ion-button full round color ="dark" (click)="favorite()">ตั้งเป็นที่ชื่นชอบ &nbsp; <ion-icon name="thumbs-up"></ion-icon></button>
<br>
<ion-item color="dark">
    <ion-range  min="{{(dbServer| async)?.priceStatus}}" max="{{(dbServer| async)?.priceStatus | bid}}" step="10" [(ngModel)]="bid" color="secondary" snaps="true">
      <ion-label range-left><ion-icon name="logo-usd"></ion-icon></ion-label>
      <ion-label range-right><ion-icon name="warning"></ion-icon></ion-label>
    </ion-range>
  </ion-item>
<ion-list>
    <br>
<ion-item color = dark >
  <ion-label>เคาะราคาที่ : </ion-label>
    <ion-input type = "number" [(ngModel)]="bid">THB</ion-input> 
</ion-item>
</ion-list>
<button class="center" ion-button full round color ="dark" (click)="Bid()">ประมูลเลย &nbsp; <ion-icon name="checkmark-circle"></ion-icon></button>
<br>
<ion-card>
    <ion-card-header><strong>รายชื่อผู้เข้าร่วมประมูลล่าสุด</strong></ion-card-header>
<div *ngFor="let item of dbServer3  | async | reverse ; let i = index ; let last = last">
    <div *ngIf="i<5">
    <ion-card-content><ion-card-header><strong>
        ผู้ประมูล : {{item[0]}}</strong></ion-card-header>
        ราคาประมูล : {{item[1]}}
       </ion-card-content>
    </div>
</div>
</ion-card>
<br>
<ion-card>
    <div *ngIf = "(dbServer2 | async)?.Img ">
    <img [src] = "(dbServer2 | async)?.Img" height=200 width=200 imageViewer>
    </div>
    <ion-card-title>รูปจำตัวผู้ขาย</ion-card-title>
    <strong> ผู้ขาย : </strong> {{(dbServer| async)?.nameOpen}}  <br>
    <strong>  เบอร์โทรศัพท์ผู้ขาย : </strong> {{(dbServer2| async)?.phone}} <br>
</ion-card>
</ion-content>

